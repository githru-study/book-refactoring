# 6.10. 여러 함수를 변환 함수로 묶기 - Combine Functions into Transform

## 요약

어떤 데이터를 토대로 값을 도출해내는 과정을 하나의 함수로 묶기

## 배경

어떤 데이터를 입력받아서 그 데이터를 통해 도출해낼 수 있는 값을 만드는 로직이 존재할 수 있다. 이 경우 데이터를 도출해내는 과정이 분리되어 있다면, 하나의 함수로 합칠 수 있다. 이렇게 하면 도출 로직이 여러 군데에 흩어지거나 중복으로 작성되는 것을 방지할 수 있다. 데이터 구조와 이를 사용하는 함수를 가까이 두어 데이터 구조 활용 시 관련 함수를 발견하기 쉽도록 할 수도 있다.

## 대상

- 어떤 데이터를 토대로 만들어내는 값이 있을 때,
    - 그 과정이 흩어져 있는 경우
    - 이후에 도출된 값을 변경하지 않는 경우 (변경되는 경우라면, 클래스로 묶는 게 낫다)

## 절차

1. 변환할 데이터를 받아 그대로 반환하는 함수를 만든다
    1. 이 때, 반환하는 데이터는 깊은 복사로 처리한다. 얕은 복사로 처리하면 변환된 결과값이 원본 데이터를 훼손시킬 수 있다.
2. 묶을 함수를 변환 함수로 옮기고, 처리 결과를 레코드의 새 필드로 추가한다. 그리고 클라이언트 코드가 이 필드를 사용하도록 한다.
    1. 함수를 옮기는 작업은 하나씩 진행한다.
    2. 로직이 복잡하다면 먼저 함수를 추출한다
    3. 각 작업이 끝날 때마다 테스트를 진행한다.

## 예시